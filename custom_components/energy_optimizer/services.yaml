overnight_schedule:
  name: Overnight Schedule
  description: Generate optimal daily battery charge/discharge schedule
  fields:
    entry_id:
      name: Config Entry ID
      description: Target a specific Energy Optimizer config entry (required if you have more than one)
      required: false
      selector:
        text:

morning_grid_charge:
  name: Morning Grid Charge
  description: Pre-charge battery for 06:00-13:00 if reserve is insufficient
  fields:
    entry_id:
      name: Config Entry ID
      description: Target a specific Energy Optimizer config entry (required if you have more than one)
      required: false
      selector:
        text:
    margin:
      name: Safety Margin
      description: Multiplier applied after efficiency and losses (default 1.1)
      required: false
      default: 1.1
      selector:
        number:
          min: 1.0
          max: 1.5
          step: 0.01

afternoon_grid_charge:
  name: Afternoon Grid Charge
  description: Charge battery between tariff start hour and 22:00 if reserve is insufficient
  fields:
    entry_id:
      name: Config Entry ID
      description: Target a specific Energy Optimizer config entry (required if you have more than one)
      required: false
      selector:
        text:
    margin:
      name: Safety Margin
      description: Multiplier applied after efficiency and losses (default 1.1)
      required: false
      default: 1.1
      selector:
        number:
          min: 1.0
          max: 1.5
          step: 0.01

evening_peak_sell:
  name: Evening Peak Sell
  description: Sell battery energy during evening peak price window
  fields:
    entry_id:
      name: Config Entry ID
      description: Target a specific Energy Optimizer config entry (required if you have more than one)
      required: false
      selector:
        text:
    margin:
      name: Safety Margin
      description: Multiplier applied after efficiency and losses (default 1.1)
      required: false
      default: 1.1
      selector:
        number:
          min: 1.0
          max: 1.5
          step: 0.01

morning_peak_sell:
  name: Morning Peak Sell
  description: Sell battery surplus energy during morning peak window
  fields:
    entry_id:
      name: Config Entry ID
      description: Target a specific Energy Optimizer config entry (required if you have more than one)
      required: false
      selector:
        text:
    margin:
      name: Safety Margin
      description: Multiplier applied after efficiency and losses (default 1.1)
      required: false
      default: 1.1
      selector:
        number:
          min: 1.0
          max: 1.5
          step: 0.01
